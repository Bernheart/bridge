// ignore_for_file: constant_identifier_names

import 'package:bridge_game/src/utils/displayable_interface.dart';

enum BoardVulnerability implements Displayable {
  none,
  NS,
  EW,
  both;

  @override
  String display({bool pbn = false, bool lin = false}) {
    switch (this) {
      case none:
        {
          if (lin) return "0";
          return "None";
        }
      case NS:
        {
          if (lin) return "N";
          return "NS";
        }
      case EW:
        {
          if (lin) return "E";
          return "EW";
        }
      case both:
        {
          if (lin) return "B";
          if (pbn) return "All";
          return "Both";
        }
    }
  }

  static BoardVulnerability fromBoardNumber(int boardNumber) {
    boardNumber = (boardNumber - 1) % 4 + 1;
    switch (boardNumber) {
      case 1:
        return BoardVulnerability.none;
      case 2:
        return BoardVulnerability.NS;
      case 3:
        return BoardVulnerability.EW;
      default:
        return BoardVulnerability.both;
    }
  }

  static BoardVulnerability getBoardVulnerability(int boardNumber) {
    int sequenceShift = ((boardNumber - 1) ~/ 4);
    int boardIndex = (boardNumber + sequenceShift - 1) % 4 + 1;
    return fromBoardNumber(boardIndex);
  }
}
